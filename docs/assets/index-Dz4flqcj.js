(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();let m=class{constructor(t={}){this.type="none",this.x=0,this.y=0,this.w=0,this.h=0;const e=document.createElement("canvas"),s=e.getContext("2d");this._capture={cav:e,ctx:s},this._children=[]}SetData(t={}){Object.entries(t).forEach(([e,s])=>{this[e]=s})}},y=class extends m{constructor(t={}){super(),this.type="point",this.x=t.x??0,this.y=t.y??0,this.w=301,this.h=301,this.cx=151,this.cy=151,this.color=t.color??"white",this._draw={ctx:t.ctxDraw??null};const e=this._capture.cav,s=this._capture.ctx;w.SetCanvasDPR(e,s,this.w,this.h),s.font=`${l.fontWeight} ${l.fontSize}px ${l.fontFamily}`,s.fillStyle=this.color,s.textAlign="center",s.textBaseline="middle",this.Render()}Render(){const t=this._capture.cav,e=this._capture.ctx,s=4;e.clearRect(0,0,t.width,t.height),e.fillText(`( ${this.x}, ${this.y} )`,this.w/2,this.h/2+l.textHeight),e.beginPath(),e.arc(this.w/2,this.h/2,s,Math.PI*2,!1),e.fill()}Draw(t){if(this._draw.ctx==null)return;const e=t.PixelX(this.x)-this.cx,s=t.PixelY(this.y)-this.cy,i=this.w,o=this.h;this._draw.ctx.drawImage(this._capture.cav,0,0,this._capture.cav.width,this._capture.cav.height,e,s,i,o)}},x=class{constructor(t){if(!t||!t.type)return;const e=document.createElement(t.type);return t.class&&e.classList.add(...t.class.split(" ")),t.id&&(e.id=t.id),t.parentNode&&t.parentNode.appendChild(e),e}};const f=Math.round(window.devicePixelRatio)||1,v={SetCanvasDPR:_};function _(r,t,e,s){r.width=e*f,r.height=s*f,t.setTransform(1,0,0,1,0,0),t.scale(f,f)}const g={point:y},M={element:x},w=v,l=(function(){const r=getComputedStyle(document.documentElement),t={};return t.fontFamily=r.getPropertyValue("font-family"),t.fontSize=parseFloat(r.getPropertyValue("font-size")),t.fontWeight=parseFloat(r.getPropertyValue("font-weight")),t.textHeight=Math.round(t.fontSize*1.3),t})();let E=class{constructor(t={}){}},L=class{constructor(t={}){}},P=class{constructor(t={}){}},D=class{constructor(t={}){this.x=0,this.y=0,this.scope={dpr:1,min:1,max:6,zoom:2,width:0,height:0},this.layers={},this.InitLayers(t.parentNode),window.addEventListener("resize",e=>{this.Resize()}),this.Resize(),this.diagrams=[],this.LoadDiagrams(),this.Loop()}Loop=()=>{this.isDataUpdate&&(this.DataUpdate(),this.isDataUpdate=!1),this.isLogUpdate&&(this.LogUpdate(),this.isLogUpdate=!1),(this.isDragging||this.isResizing)&&(this.Draw(),this.isDragging=!1,this.isResizing=!1),requestAnimationFrame(this.Loop)};get zoom(){return this.scope.zoom}set zoom(t){t>=this.scope.min&&t<=this.scope.max&&(this.scope.zoom=t)}LoadDiagrams(){this.diagrams=[];const t=new g.point({x:100,y:100,ctxDraw:this.layers.background.ctx});this.diagrams.push(t),this.diagrams.push(new g.point({x:0,y:0,color:"red",ctxDraw:this.layers.background.ctx}))}InitLayers(t){this.layers={},["background","board","effect"].forEach(e=>{this.layers[e]={},this.layers[e].cav=new M.element({type:"canvas",parentNode:t,class:`window ${e}`}),this.layers[e].cav.style.position="absolute",this.layers[e].cav.style.width="100%",this.layers[e].cav.style.height="100%",this.layers[e].ctx=this.layers[e].cav.getContext("2d")})}Resize(){this.scope.width=window.innerWidth,this.scope.height=window.innerHeight,Object.values(this.layers).forEach(t=>{w.SetCanvasDPR(t.cav,t.ctx,window.innerWidth,window.innerHeight),t.ctx.translate(window.innerWidth/2,window.innerHeight/2)}),this.isResizing=!0}SpaceX(t){return this.x+Math.round((t-this.scope.width/2)*this.zoom)}SpaceY(t){return this.y+Math.round((t-this.scope.height/2)*this.zoom)}SpaceLine(t){return Math.round(t*this.zoom)}PixelX(t){return Math.round((t-this.x)/this.zoom)}PixelY(t){return Math.round((t-this.y)/this.zoom)}PixelLine(t){return Math.round(t/this.zoom)}Draw(){Object.values(this.layers).forEach(t=>{const e=t.cav.width,s=t.cav.height;t.ctx.clearRect(-e/2,-s/2,e,s)}),this.DrawLine(100,200,200,100,"orange"),this.DrawLine(0,0,200,100,"orange"),this.DrawLine(0,0,100,200,"orange"),this.DrawRuler();for(let t of this.diagrams)t.Draw(this)}DrawRuler(){if(!this.layers.background)return;const t=this.layers.background.ctx,e=-this.scope.width/2+10,s=-this.scope.height/2+10,i=100,o=this.scope.height-20;t.fillStyle="rgba(44, 44, 54, 1)",t.fillRect(e,s,i,o)}DrawBackground(){if(!this.layers.background)return;const t=this.layers.background.ctx,e=this.layers.background.cav,s=100,i=this.x%s;t.save(),t.strokeStyle=rgba(44,44,64,1),t.beginPath(),this.SpaceX(e.height/2);const o=this.SpaceX(e.height);for(let n=i;n<=this.SpaceX(e.width);n+=s){const a=this.PixelLine(n);t.moveTo(a-o+2500,-o+2500),t.lineTo(a+o-2500,o-2500)}t.stroke(),t.restore()}DrawPoint(t,e,s){if(!this.layers.background)return;const i=this.layers.background.ctx,o=this.PixelX(t),n=this.PixelY(e);i.save(),i.font=`${l.fontWeight} ${l.fontSize}px ${l.fontFamily}`,i.fillStyle=s,i.textAlign="center",i.textBaseline="middle",i.fillText(`( ${t}, ${e} )`,o,n+l.textHeight),i.beginPath(),i.arc(o,n,4,Math.PI*2,!1),i.fill(),i.restore()}DrawLine(t,e,s,i,o){if(!this.layers.background)return;const n=this.layers.background.ctx,a=this.PixelX(t),h=this.PixelY(e),d=this.PixelX(s),u=this.PixelY(i);n.save(),n.strokeStyle=o,n.beginPath(),n.moveTo(a,h),n.lineTo(d,u),n.stroke(),n.restore()}};const R=.001,N=.002;let S=class{constructor(t={}){const e=t.parentNode;e.addEventListener("contextmenu",async s=>{s.preventDefault()}),e.addEventListener("wheel",s=>{c.zoom-=s.deltaY*R,c.isDragging=!0},{passive:!0}),e.addEventListener("mousedown",s=>{this.PanStart(s.offsetX,s.offsetY)}),e.addEventListener("mousemove",s=>{this.PanMove(s.offsetX,s.offsetY)}),e.addEventListener("mouseup",()=>{this.PanEnd()}),e.addEventListener("mouseleave",()=>{this.down=null}),e.addEventListener("touchstart",s=>{if(s.touches.length===1&&this.touchMode!=="pinch"){const i=s.touches[0];this.touchMode="pan",this.PanStart(i.clientX,i.clientY)}if(s.touches.length===2){const i=s.touches[0],o=s.touches[1],n=i.clientX-o.clientX,a=i.clientY-o.clientY;this.touchMode="pinch",this.pinch={dist:Math.hypot(n,a)}}},{passive:!1}),e.addEventListener("touchmove",s=>{if(this.touchMode==="pan"&&s.touches.length===1){const i=s.touches[0];this.PanMove(i.clientX,i.clientY),s.preventDefault()}if(this.touchMode==="pinch"&&s.touches.length===2&&this.pinch){const i=s.touches[0],o=s.touches[1],n=i.clientX-o.clientX,a=i.clientY-o.clientY,h=Math.hypot(n,a),d=this.pinch.dist-h;this.pinch.dist=h,c.zoom+=d*N,c.isDragging=!0,s.preventDefault()}},{passive:!1}),e.addEventListener("touchend",s=>{if(this.touchMode==="pinch"&&s.touches.length<2){this.touchMode=null,this.pinch=null;return}this.touchMode==="pan"&&s.touches.length===0&&(this.touchMode=null,this.panEnd())})}PanStart(t,e){this.down={offsetX:t,offsetY:e,xView:c.x,yView:c.y},c.isDragging=!0}PanMove(t,e){if(!this.down)return;const s=c.SpaceLine(t-this.down.offsetX),i=c.SpaceLine(e-this.down.offsetY);c.x=this.down.xView-s,c.y=this.down.yView-i,c.isDragging=!0}async PanEnd(){this.down=null}};function b(r){switch(r?.name){case"SecurityError":return{code:"STORAGE_BLOCKED",title:"브라우저 저장소에 접근할 수 없습니다",message:`이 서비스는 브라우저 저장소를 사용합니다.

다음 경우에는 사용할 수 없습니다:
• 프라이빗(시크릿) 모드
• 저장소 접근이 차단된 환경

해결 방법:
1. 일반 브라우저 창으로 다시 열어주세요
2. 다른 브라우저를 사용해 주세요`,severity:"fatal",userFixable:!0};case"QuotaExceededError":return{code:"STORAGE_QUOTA_EXCEEDED",title:"저장 공간이 부족합니다",message:`브라우저에 할당된 저장 공간이 가득 찼습니다.

해결 방법:
• 브라우저 저장 공간 정리
• 불필요한 사이트 데이터 삭제

정리 후 다시 시도해 주세요.`,severity:"blocking",userFixable:!0};case"VersionError":return{code:"DB_VERSION_CONFLICT",title:"데이터베이스 버전 충돌",message:`다른 탭에서 이 서비스를 사용 중인 것 같습니다.

해결 방법:
• 모든 탭을 닫고 다시 열기
• 페이지 새로고침`,severity:"blocking",reloadRecommended:!0};case"InvalidStateError":case"NotFoundError":case"DataError":return{code:"INTERNAL_DB_ERROR",title:"내부 데이터 오류",message:`데이터 처리 중 문제가 발생했습니다.

이 문제가 계속되면:
• 페이지 새로고침
• 문제가 지속되면 문의 바랍니다`,severity:"fatal",report:!0};default:return{code:"UNKNOWN_ERROR",title:"알 수 없는 오류",message:`예기치 못한 문제가 발생했습니다.

해결 방법:
• 페이지 새로고침
• 다른 브라우저에서 다시 시도`,severity:"fatal"}}}const I={};class A{constructor(t={}){this.worker=null,this.seq=0,this.pending=new Map;const s=!(typeof import.meta<"u"&&I);this.worker=s?new Worker("./src/storage/db.worker.js",{type:"module"}):new Worker(new URL(""+new URL("db.worker-C-IMnwXb.js",import.meta.url).href,import.meta.url),{type:"module"}),this.Call("init"),this.worker.onmessage=i=>{const{id:o,ok:n,result:a,error:h}=i.data,d=this.pending.get(o);if(d)if(this.pending.delete(o),n)d.resolve(a);else{d.reject(h),console.warn(i.data);const u=b(h?.name??h);alert(`오류: ${u.title}
코드: ${u.code}
설명: ${u.message}`)}},this.worker.onerror=i=>{console.error("worker error:",i.message)}}Call(t,e){return new Promise((s,i)=>{const o=++this.seq;this.pending.set(o,{resolve:s,reject:i}),this.worker.postMessage({id:o,type:t,payload:e})})}}const O=document.querySelector("#app");new A;p(P,"menu");p(L,"favorite");p(E,"directory");const c=p(D,"view");p(S,"controller");const k=async()=>{};k();function p(r,t){const e=document.createElement("div");return e.id=t,O.appendChild(e),new r({parentNode:e})}
