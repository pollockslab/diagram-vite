(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function e(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=e(s);fetch(s.href,i)}})();let f=class{constructor(t){if(!t||!t.type)return;const e=document.createElement(t.type);return t.class&&e.classList.add(...t.class.split(" ")),t.id&&(e.id=t.id),t.parentNode&&t.parentNode.appendChild(e),e}};const w={engines:{element:f}};let p=class{constructor(t={}){console.log("dir 실행")}},m=class{constructor(t={}){console.log("win 실행")}},y=class{constructor(t={}){console.log("menu 실행")}},g=class{constructor(t={}){this.x=0,this.y=0,this.scope={dpr:1,min:1,max:6,zoom:2},this.layers={},this.InitLayers(t.parentNode),this.cssRoot={},this.CaptureRootCSS(),window.addEventListener("resize",e=>{this.Resize()}),this.Resize()}get zoom(){return this.scope.zoom}set zoom(t){t>=this.scope.min&&t<=this.scope.max&&(this.scope.zoom=t)}InitLayers(t){this.layers={},["background","board","effect"].forEach(e=>{this.layers[e]={},this.layers[e].cav=new w.engines.element({type:"canvas",parentNode:t,class:`window ${e}`}),this.layers[e].cav.style.position="absolute",this.layers[e].cav.style.width="100%",this.layers[e].cav.style.height="100%",this.layers[e].ctx=this.layers[e].cav.getContext("2d")})}CaptureRootCSS(){const t=getComputedStyle(document.documentElement);this.cssRoot={},this.cssRoot.fontFamily=t.getPropertyValue("font-family"),this.cssRoot.fontSize=parseFloat(t.getPropertyValue("font-size")),this.cssRoot.fontWeight=parseFloat(t.getPropertyValue("font-weight")),this.cssRoot.textHeight=Math.round(this.cssRoot.fontSize*1.3)}Resize(){const t=window.devicePixelRatio||1;this.scope.dpr=t,Object.values(this.layers).forEach(e=>{e.cav.width=window.innerWidth*t,e.cav.height=window.innerHeight*t,e.ctx.setTransform(1,0,0,1,0,0),e.ctx.scale(t,t),e.ctx.translate(window.innerWidth/2,window.innerHeight/2)}),this.Draw()}SpaceX(t){return this.x+Math.round(t*this.zoom)}SpaceY(t){return this.y+Math.round(t*this.zoom)}SpaceLine(t){return Math.round(t*this.zoom)}PixelX(t){return Math.round((t-this.x)/this.zoom)}PixelY(t){return Math.round((t-this.y)/this.zoom)}PixelLine(t){return Math.round(t/this.zoom)}Draw(){Object.values(this.layers).forEach(t=>{const e=t.cav.width,o=t.cav.height;t.ctx.clearRect(-e/2,-o/2,e,o)}),this.DrawBackground(),this.DrawLine(100,200,200,100,"orange"),this.DrawLine(0,0,200,100,"orange"),this.DrawLine(0,0,100,200,"orange"),this.DrawPoint(100,200,"green"),this.DrawPoint(0,0,"yellow"),this.DrawPoint(200,100,"blue"),this.DrawPoint(50,50,"white"),this.DrawPoint(100,100,"white")}DrawBackground(){if(!this.layers.background)return;const t=this.layers.background.ctx,e=this.layers.background.cav,o=100,s=this.x%o;t.save();for(let i=s;i<=e.width;i+=o);t.restore()}DrawPoint(t,e,o){if(!this.layers.background)return;const s=this.layers.background.ctx,i=this.PixelX(t),n=this.PixelY(e);s.save(),s.font=`${this.cssRoot.fontWeight} ${this.cssRoot.fontSize}px ${this.cssRoot.fontFamily}`,s.fillStyle=o,s.textAlign="center",s.textBaseline="middle",s.fillText(`( ${t}, ${e} )`,i,n+this.cssRoot.textHeight),s.beginPath(),s.arc(i,n,4,Math.PI*2,!1),s.fill(),s.restore()}DrawLine(t,e,o,s,i){if(!this.layers.background)return;const n=this.layers.background.ctx,h=this.PixelX(t),d=this.PixelY(e),l=this.PixelX(o),u=this.PixelY(s);n.save(),n.strokeStyle=i,n.beginPath(),n.moveTo(h,d),n.lineTo(l,u),n.stroke(),n.restore()}};class x{constructor(t={}){const e=t.parentNode;e.addEventListener("contextmenu",async o=>{o.preventDefault()}),e.addEventListener("wheel",async o=>{if(o.deltaY>0)r.zoom+=.1;else if(o.deltaY<0)r.zoom-=.1;else return;r.Draw()},{passive:!0}),e.addEventListener("mousedown",o=>{this.down={},this.down.offsetX=o.offsetX,this.down.offsetY=o.offsetY,this.down.xView=r.x,this.down.yView=r.y}),e.addEventListener("mousemove",o=>{if(!this.down)return;const s=r.SpaceLine(o.offsetX-this.down.offsetX),i=r.SpaceLine(o.offsetY-this.down.offsetY);r.x=this.down.xView-s,r.y=this.down.yView-i,r.Draw()}),e.addEventListener("mouseup",o=>{this.down&&(this.down=null)}),e.addEventListener("mouseleave",o=>{this.down&&(this.down=null)})}}const v=document.querySelector("#app");a(y,"menu");a(m,"favorite");a(p,"directory");const r=a(g,"view");a(x,"controller");function a(c,t){const e=document.createElement("div");return e.id=t,v.appendChild(e),new c({parentNode:e})}
